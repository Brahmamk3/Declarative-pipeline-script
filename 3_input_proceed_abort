# input is used to give the permistion to proceed or abort for stage. it give user name also at console outptut who click what click
# if you click abort : Jenkins stops the pipeline immediately not execute remaining stages also.
# Abort = stop the process immediately before it finishes
pipeline{
    agent any
    environment{
        name ="Brahmam"
    }
    parameters {
        string( name="address",defaultValue="Modepalii",description="")
        choice( name="env",choices=['dev','test','prod'],description="")
    }
    stages{
        stage ("code"){
            steps{
                sh "touch ${name}.pdf"
                echo "name of the file is:$name"
            }
        }
        stage ("build"){
            environment{
                file_name="build_file"
            }
            steps{
                input {
                    message "can it proceed?"
                }
                sh "touch ${file_name}.pdf"
                echo "name of the file is:$file_name"
                echo "name of the file is:$name"
            }
        }
    }
}
